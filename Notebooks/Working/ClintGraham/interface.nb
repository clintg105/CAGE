(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     26892,        616]
NotebookOptionsPosition[     26148,        597]
NotebookOutlinePosition[     26508,        612]
CellTagsIndexPosition[     26465,        609]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"repoDir", " ", "=", " ", 
   RowBox[{"Nest", "[", 
    RowBox[{"ParentDirectory", ",", 
     RowBox[{"NotebookDirectory", "[", "]"}], ",", "3"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PacletDirectoryLoad", "[", "repoDir", "]"}], ";"}]}], "Input",
 CellChangeTimes->{3.9455637669477005`*^9},
 CellLabel->"In[9]:="],

Cell[BoxData[
 RowBox[{"<<", "ConvexAnalysisGeometry`"}]], "Input",
 CellLabel->"In[7]:="],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"RemoveCommentsAndStrings", "[", "line_String", "]"}], ":=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"line", ",", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{
        "RegularExpression", "[", "\"\<\\\\(\\\\*.*?\\\\*\\\\)\>\"", "]"}], 
        "->", "\"\<\>\""}], ",", 
       RowBox[{"(*", 
        RowBox[{"Remove", " ", "comments"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
        "RegularExpression", "[", "\"\<\\\"(\\\\\\\\.|[^\\\"])*\\\"\>\"", 
         "]"}], "->", "\"\<\>\""}]}], " ", 
      RowBox[{"(*", 
       RowBox[{"Remove", " ", "strings"}], "*)"}], "\n", "}"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"IndentStringByBraces", "[", "str_String", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "lines", ",", "result", ",", "leadingCloseCount", ",", "newLine", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"cumulativeBalance", "=", "0"}], ",", "hangingOperators", ",", 
      RowBox[{"hangingOperatorMat", "=", 
       RowBox[{"{", "}"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"lines", "=", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"str", ",", "\"\<\\n\>\""}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", "=", 
      RowBox[{"StringJoin", "[", "\[IndentingNewLine]", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{"line", ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"leadingCloseCount", "=", 
             RowBox[{"StringLength", "@", 
              RowBox[{
               RowBox[{"StringReplace", "[", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"StringCases", "[", 
                  RowBox[{"line", ",", 
                   RowBox[{
                   "RegularExpression", "[", "\"\<^ *(\\)|\\]|\\})*\>\"", 
                    "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
                 RowBox[{"WhitespaceCharacter", "->", "\"\<\>\""}]}], "]"}], 
               "[", 
               RowBox[{"[", "1", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"hangingOperators", "=", 
             RowBox[{"StringReplace", "[", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"StringCases", "[", 
                RowBox[{"line", ",", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                   "\"\<:>\>\"", "|", "\"\<:=\>\"", "|", "\"\</;\>\"", "|", 
                    "\"\<&&\>\"", "|", "\"\<||\>\""}], ")"}], "~~", 
                  RowBox[{"Whitespace", "..."}], "~~", "EndOfLine"}]}], "]"}],
                ",", "\[IndentingNewLine]", 
               RowBox[{"WhitespaceCharacter", "->", "\"\<\>\""}]}], "]"}]}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{"newLine", "=", 
             RowBox[{
              RowBox[{"StringRepeat", "[", 
               RowBox[{"\"\<  \>\"", ",", 
                RowBox[{"Max", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{
                  "cumulativeBalance", "-", "leadingCloseCount", "+", 
                   RowBox[{"Length", "@", "hangingOperatorMat"}]}]}], "]"}]}],
                "]"}], "<>", "line", "<>", "\"\<\\n\>\""}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{"Note", ":", " ", 
              RowBox[{
               RowBox[{"only", " ", "works", " ", "on", " ", "single"}], "-", 
               
               RowBox[{
               "line", " ", "comments", " ", "and", " ", "strings"}]}]}], " ",
              "*)"}], "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"cumulativeBalance", "+=", 
               RowBox[{
                RowBox[{"StringCount", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"\"\<(\>\"", "|", "\"\<{\>\"", "|", "\"\<[\>\""}]}],
                  "]"}], "-", 
                RowBox[{"StringCount", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"\"\<)\>\"", "|", "\"\<}\>\"", "|", "\"\<]\>\""}]}],
                  "]"}]}]}], "&"}], "@", 
             RowBox[{"RemoveCommentsAndStrings", "[", "line", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{
             "if", " ", "something", " ", "goes", " ", "horribly", " ", 
              "wrong", " ", "we", " ", 
              RowBox[{"don", "'"}], "t", " ", "want", " ", "to", " ", 
              "\"\<dig a hole\>\""}], " ", "*)"}], "\[IndentingNewLine]", 
            RowBox[{"cumulativeBalance", "=", 
             RowBox[{"Max", "[", 
              RowBox[{"0", ",", "cumulativeBalance"}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"hangingOperatorMat", "=", 
             RowBox[{"Select", "[", 
              RowBox[{"hangingOperatorMat", ",", 
               RowBox[{
                RowBox[{"#", "<", 
                 RowBox[{"cumulativeBalance", "+", 
                  RowBox[{"Length", "[", "hangingOperators", "]"}]}]}], 
                "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "hangingOperators", "]"}], ">", "0"}], 
              ",", 
              RowBox[{"AppendTo", "[", 
               RowBox[{"hangingOperatorMat", ",", "cumulativeBalance"}], 
               "]"}]}], "]"}], ";", "\[IndentingNewLine]", "newLine"}]}], 
          "\[IndentingNewLine]", "]"}], ",", "lines"}], "]"}], "\n", "  ", 
       "]"}]}], ";", "\n", "  ", 
     RowBox[{"StringTrim", "[", 
      RowBox[{"result", ",", "\"\<\\n\>\""}], "]"}]}]}], "\n", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SpaceOperators", "[", "string_", "]"}], ":=", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"string", ",", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"w", "=", 
        RowBox[{"\"\< \>\"", "|", "\"\<\\t\>\""}]}], "}"}], ",", 
      RowBox[{"{", "\[IndentingNewLine]", "   ", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<===\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< === \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<==\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< == \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<=>\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< => \>\""}], 
        " ", 
        RowBox[{"(*", " ", 
         RowBox[{"mostly", " ", "used", " ", "in", " ", "comments"}], " ", 
         "*)"}], "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<!=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< != \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<=!=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< =!= \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< = \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<:=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< := \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<^:=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< ^:= \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<+=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< += \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<-=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< -= \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<>=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< >= \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<<=\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< <= \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<&&\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< && \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<||\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< || \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<->\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< -> \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<|->\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< |-> \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<:>\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< :> \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\</.\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< /. \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<//.\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< //. \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\</;\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< /; \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\</@\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< /@ \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<//@\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< //@ \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<@@@\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< @@@ \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<@@\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< @@ \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"w", "..."}], "~~", "\"\<@\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\< @ \>\""}], 
        "\[IndentingNewLine]", "   ", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<,\>\"", "~~", 
           RowBox[{"w", "..."}]}], ")"}], " ", ":>", " ", "\"\<, \>\""}]}], 
       "\[IndentingNewLine]", "}"}]}], "]"}]}], "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.9455545038982377`*^9, {3.9455548137434993`*^9, 3.9455548163040953`*^9}, {
   3.945554919895569*^9, 3.945554924402646*^9}, 3.9455550237749414`*^9, {
   3.9455554020028887`*^9, 3.9455554178501663`*^9}, {3.9455555203224545`*^9, 
   3.9455555249521837`*^9}, {3.9455556131375475`*^9, 3.9455556145300198`*^9}, 
   3.9455558000242143`*^9, {3.945555836106279*^9, 3.945555845054757*^9}, {
   3.94555824327121*^9, 3.9455582621452303`*^9}, {3.9455593658778534`*^9, 
   3.945559369195854*^9}, {3.9455594728527737`*^9, 3.9455595458279037`*^9}, {
   3.945559616714258*^9, 3.9455596220621033`*^9}, 3.945559655890706*^9, {
   3.9455607820157566`*^9, 3.9455607968816576`*^9}, {3.945561208734932*^9, 
   3.945561257983994*^9}, {3.9455612927449474`*^9, 3.9455612968999186`*^9}, {
   3.9455613887882013`*^9, 3.945561438174029*^9}, {3.9455615007569757`*^9, 
   3.9455615020496335`*^9}, {3.9455629169065886`*^9, 
   3.9455629477607155`*^9}, {3.9455629868794484`*^9, 
   3.9455629908232517`*^9}, {3.9455631638162823`*^9, 3.945563274142331*^9}, {
   3.945563477717489*^9, 3.9455635095581093`*^9}, {3.9456032240256214`*^9, 
   3.945603255187497*^9}}],

Cell[BoxData[
 RowBox[{"Block", "[", 
  RowBox[{
   RowBox[{"{", "sep", "}"}], ",", 
   RowBox[{"Dynamic", "@", 
    RowBox[{"DynamicModule", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"nbOld", ",", "nbNew", ",", "\[IndentingNewLine]", 
        RowBox[{"hasDevAssoc", "=", 
         RowBox[{"FileSystemMap", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"sep", "[", 
             RowBox[{"#", ",", 
              RowBox[{"FileExistsQ", "@", 
               RowBox[{"FileNameJoin", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"FileNameDrop", "[", "#", "]"}], ",", 
                  RowBox[{
                   RowBox[{"FileBaseName", "[", "#", "]"}], "<>", 
                   "\"\<_dev-nb.nb\>\""}]}], "}"}], "]"}]}]}], "]"}], "&"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"FileNameJoin", "[", 
            RowBox[{"{", 
             RowBox[{"repoDir", ",", "\"\<Kernel\>\""}], "}"}], "]"}], ",", 
           "\[IndentingNewLine]", "Infinity", ",", "\[IndentingNewLine]", 
           RowBox[{"FileNameForms", "\[Rule]", 
            RowBox[{
            "RegularExpression", "[", "\"\<.*\\\\.(wl|m)\>\"", "]"}]}]}], 
          "\[IndentingNewLine]", "]"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Dynamic", "[", 
       RowBox[{
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"hasDevAssoc", "/.", 
            RowBox[{"Association", "->", "List"}]}], "//.", 
           RowBox[{
            RowBox[{"Rule", "[", 
             RowBox[{"k_", ",", "v_List"}], "]"}], ":>", 
            RowBox[{"OpenerView", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"k", ",", 
                RowBox[{"v", "//", "Column"}]}], "}"}], ",", "True"}], 
             "]"}]}]}], "//", "Column"}], "\[IndentingNewLine]", ")"}], "/.", 
        
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Rule", "[", 
            RowBox[{"k_", ",", 
             RowBox[{"sep", "[", 
              RowBox[{"v_", ",", "False"}], "]"}]}], "]"}], ":>", 
           RowBox[{"Button", "[", 
            RowBox[{"k", ",", "\[IndentingNewLine]", 
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"devNB", "=", 
                 RowBox[{"StringReplace", "[", 
                  RowBox[{"v", ",", " ", 
                   RowBox[{
                    RowBox[{
                    "RegularExpression", "[", "\"\<\\\\.(wl|m)$\>\"", "]"}], 
                    " ", "->", " ", "\"\<_dev-nb.nb\>\""}]}], "]"}]}], "}"}], 
               ",", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"Export", "[", 
                 RowBox[{"v", ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"StringTrim", "[", 
                    RowBox[{"#", ",", "Whitespace"}], "]"}], "&"}], "/@", 
                   RowBox[{"Import", "[", 
                    RowBox[{"v", ",", "\"\<Lines\>\""}], "]"}]}], ",", 
                  "\"\<Lines\>\""}], "]"}], ";", "\[IndentingNewLine]", 
                RowBox[{"nbOld", "=", 
                 RowBox[{"NotebookOpen", "[", "v", "]"}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"FrontEndTokenExecute", "[", 
                 RowBox[{"nbOld", ",", "\"\<SaveRename\>\"", ",", 
                  RowBox[{"{", 
                   RowBox[{"devNB", ",", "\"\<Notebook\>\""}], "}"}]}], "]"}],
                 ";", "\[IndentingNewLine]", 
                RowBox[{"NotebookClose", "[", "nbOld", "]"}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"Export", "[", 
                 RowBox[{"v", ",", 
                  RowBox[{"SpaceOperators", "@", 
                   RowBox[{"IndentStringByBraces", "[", 
                    RowBox[{"Import", "[", 
                    RowBox[{"v", ",", "\"\<Text\>\""}], "]"}], "]"}]}], ",", 
                  "\"\<Text\>\""}], "]"}], ";", "\[IndentingNewLine]", 
                RowBox[{"Export", "[", 
                 RowBox[{"devNB", ",", 
                  RowBox[{"StringReplace", "[", 
                   RowBox[{
                    RowBox[{"Import", "[", 
                    RowBox[{"devNB", ",", "\"\<Text\>\""}], "]"}], ",", 
                    RowBox[{
                    "\"\<\\\"\\\\n\\\", \>\"", "->", 
                    "\"\<\\\"\\\\[IndentingNewLine]\\\", \>\""}]}], "]"}], 
                  ",", "\"\<Text\>\""}], "]"}], ";", "\[IndentingNewLine]", 
                RowBox[{"nbNew", "=", 
                 RowBox[{"NotebookOpen", "[", "devNB", "]"}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"SetOptions", "[", 
                 RowBox[{"nbNew", ",", "\[IndentingNewLine]", " ", 
                  RowBox[{"NotebookEventActions", "->", 
                   RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"\"\<MenuCommand\>\"", ",", "\"\<Save\>\""}], 
                    "}"}], ":>", 
                    RowBox[{"With", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"pkgName", "=", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"NotebookFileName", "[", "]"}], ",", 
                    RowBox[{"\"\<_dev-nb.nb\>\"", "->", 
                    RowBox[{"\"\<.\>\"", "<>", 
                    RowBox[{"FileExtension", "[", "v", "]"}]}]}]}], "]"}]}], 
                    "}"}], ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"FrontEndTokenExecute", "[", 
                    RowBox[{
                    RowBox[{"FrontEnd`InputNotebook", "[", "]"}], ",", 
                    "\"\<SaveRename\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{"pkgName", ",", "\"\<Package\>\""}], "}"}]}], 
                    "]"}], ";", "\[IndentingNewLine]", 
                    RowBox[{"Export", "[", 
                    RowBox[{"pkgName", ",", 
                    RowBox[{"SpaceOperators", "@", 
                    RowBox[{"IndentStringByBraces", "[", 
                    RowBox[{"Import", "[", 
                    RowBox[{"pkgName", ",", "\"\<Text\>\""}], "]"}], "]"}]}], 
                    ",", "\"\<Text\>\""}], "]"}], ";"}]}], 
                    "\[IndentingNewLine]", "]"}]}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"PassEventsDown", "->", "True"}]}], "}"}]}]}], 
                 "]"}], ";", "\[IndentingNewLine]", 
                RowBox[{"FrontEndExecute", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"NotebookWrite", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"NotebookRead", "[", "#", "]"}], ",", 
                    RowBox[{"\"\<Code\>\"", "->", 
                    RowBox[{"Sequence", "[", 
                    RowBox[{"\"\<Input\>\"", ",", 
                    RowBox[{"\"\<InitializationCell\>\"", "->", "True"}]}], 
                    "]"}]}], ",", "All"}], "]"}]}], "]"}], "&"}], "/@", 
                  RowBox[{"Cells", "[", 
                   RowBox[{"nbNew", ",", 
                    RowBox[{"CellStyle", "->", "\"\<Code\>\""}]}], "]"}]}], 
                 "]"}]}]}], "\[IndentingNewLine]", "]"}], ",", 
             RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
             RowBox[{"Background", "\[Rule]", 
              RowBox[{"Lighter", "[", 
               RowBox[{"Gray", ",", " ", "0.9"}], "]"}]}]}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Rule", "[", 
            RowBox[{"k_", ",", 
             RowBox[{"sep", "[", 
              RowBox[{"v_", ",", "True"}], "]"}]}], "]"}], ":>", 
           RowBox[{"Button", "[", 
            RowBox[{"k", ",", "\[IndentingNewLine]", 
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"devNB", "=", 
                 RowBox[{"StringReplace", "[", 
                  RowBox[{"v", ",", " ", 
                   RowBox[{
                    RowBox[{
                    "RegularExpression", "[", "\"\<\\\\.(wl|m)$\>\"", "]"}], 
                    " ", "->", " ", "\"\<_dev-nb.nb\>\""}]}], "]"}]}], "}"}], 
               ",", "\[IndentingNewLine]", 
               RowBox[{"NotebookOpen", "[", "devNB", "]"}]}], 
              "\[IndentingNewLine]", "]"}], ",", 
             RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
             RowBox[{"Background", "\[Rule]", "LightBlue"}]}], "]"}]}]}], 
         "\[IndentingNewLine]", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
     "]"}]}]}], "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.9455520740885367`*^9, 3.945552122400285*^9}, {
   3.945552182816371*^9, 3.945552208392991*^9}, {3.945552246430504*^9, 
   3.945552251128996*^9}, {3.945552288847433*^9, 3.9455524085509787`*^9}, {
   3.9455525036416054`*^9, 3.9455526510482807`*^9}, 3.945552834021413*^9, {
   3.945552876977501*^9, 3.945552879407815*^9}, {3.945552915796095*^9, 
   3.9455529811363716`*^9}, {3.945553071608675*^9, 3.945553121113438*^9}, {
   3.945553153351878*^9, 3.945553168247714*^9}, {3.9455532006447067`*^9, 
   3.9455532115389786`*^9}, {3.9455532517765627`*^9, 3.945553261456774*^9}, {
   3.945553328666583*^9, 3.9455533604336367`*^9}, {3.94555346648948*^9, 
   3.9455535368806887`*^9}, {3.9455535683705034`*^9, 3.945553607118099*^9}, {
   3.9455537752341557`*^9, 3.9455538195595565`*^9}, {3.94555403015808*^9, 
   3.9455540314027777`*^9}, {3.945554229722413*^9, 3.94555423459678*^9}, {
   3.945554284657159*^9, 3.945554307928989*^9}, 3.9455544947322044`*^9, {
   3.9455545390571723`*^9, 3.9455545605205374`*^9}, 3.945555229713874*^9, {
   3.9455556059700594`*^9, 3.9455556091768684`*^9}, 3.9455561292509274`*^9, {
   3.9455584433922215`*^9, 3.945558487585326*^9}, {3.9455585635572977`*^9, 
   3.9455585662395916`*^9}, {3.945558765420796*^9, 3.945558788071063*^9}, {
   3.9455588265233135`*^9, 3.945558852704981*^9}, {3.945559050639928*^9, 
   3.945559058765971*^9}, {3.9455590968274837`*^9, 3.945559101893759*^9}, {
   3.945559136321121*^9, 3.945559163718747*^9}, {3.9455608938480854`*^9, 
   3.9455608973975196`*^9}},
 CellLabel->"In[17]:="],

Cell[BoxData[
 RowBox[{"FileSystemMap", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"Check", "[", 
     RowBox[{
      RowBox[{"DeleteFile", "@", "#"}], ",", 
      RowBox[{"NotebookOpen", "@", "#"}]}], "]"}], "&"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{"repoDir", ",", "\"\<Kernel\>\""}], "}"}], "]"}], ",", 
   "\[IndentingNewLine]", "Infinity", ",", "\[IndentingNewLine]", 
   RowBox[{"FileNameForms", "\[Rule]", "\"\<*_dev-nb.nb\>\""}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.945561901527147*^9, 3.945561927894783*^9}, {
  3.945562004348837*^9, 3.945562010723241*^9}, {3.945562042911324*^9, 
  3.945562050420562*^9}, {3.9455621673833113`*^9, 3.9455622110935526`*^9}},
 CellLabel->"In[16]:="]
},
WindowSize->{244.2, 871.1999999999999},
WindowMargins->{{-6, Automatic}, {Automatic, 0}},
FrontEndVersion->"13.0 for Microsoft Windows (64-bit) (February 4, 2022)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 358, 10, 70, "Input",ExpressionUUID->"28dd3bcf-3a87-4220-bde8-d5abf2f823d2"],
Cell[919, 32, 90, 2, 70, "Input",ExpressionUUID->"af615262-a346-4344-8408-ff75541d2afa"],
Cell[1012, 36, 13769, 321, 70, "Input",ExpressionUUID->"7bca67b6-f19c-4a9f-88e3-73e850b90da7",
 InitializationCell->True],
Cell[14784, 359, 10554, 216, 70, "Input",ExpressionUUID->"833355b2-791b-402c-bbdb-41d3705ce6c2",
 InitializationCell->True],
Cell[25341, 577, 803, 18, 70, "Input",ExpressionUUID->"03ae897f-85cb-4fb1-a2c9-8bd7e6f8b5d3"]
}
]
*)

(* End of internal cache information *)
